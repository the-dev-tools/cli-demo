workspace_name: New Workspace
run:
    - flow: Imported HAR Flow
requests:
    - name: DELETE Api Categories C2b85766 9fb6 4a3b A032 9628552cbdf2
      method: DELETE
      url: https://ecommerce-admin-panel.fly.dev/api/categories/{{ request_5.response.body.id }}
      headers:
        authorization: Bearer {{ request_1.response.body.token }}
        content-type: application/json
      assertions:
        - response.status == 204
    - name: DELETE Api Products 6d316d59 4cb4 451e B5b1 673ecbdd5609
      method: DELETE
      url: https://ecommerce-admin-panel.fly.dev/api/products/{{ request_9.response.body.id }}
      headers:
        authorization: Bearer {{ request_1.response.body.token }}
        content-type: application/json
      assertions:
        - response.status == 204
    - name: DELETE Api Tags Ef2574d1 1781 4ca9 Bfcd C571e124be02
      method: DELETE
      url: https://ecommerce-admin-panel.fly.dev/api/tags/{{ request_7.response.body.id }}
      headers:
        authorization: Bearer {{ request_1.response.body.token }}
        content-type: application/json
      assertions:
        - response.status == 204
    - name: GET Api Categories
      method: GET
      url: https://ecommerce-admin-panel.fly.dev/api/categories
      headers:
        authorization: Bearer {{ request_1.response.body.token }}
        content-type: application/json
      assertions:
        - response.status == 200
    - name: GET Api Categories_1
      method: GET
      url: https://ecommerce-admin-panel.fly.dev/api/categories
      headers:
        authorization: Bearer {{ request_1.response.body.token }}
        content-type: application/json
      assertions:
        - response.status == 200
    - name: GET Api Products
      method: GET
      url: https://ecommerce-admin-panel.fly.dev/api/products
      headers:
        authorization: Bearer {{ request_1.response.body.token }}
        content-type: application/json
      assertions:
        - response.status == 200
    - name: GET Api Products_1
      method: GET
      url: https://ecommerce-admin-panel.fly.dev/api/products
      headers:
        authorization: Bearer {{ request_1.response.body.token }}
        content-type: application/json
      assertions:
        - response.status == 200
    - name: GET Api Tags
      method: GET
      url: https://ecommerce-admin-panel.fly.dev/api/tags
      headers:
        authorization: Bearer {{ request_1.response.body.token }}
        content-type: application/json
      assertions:
        - response.status == 200
    - name: GET Api Tags_1
      method: GET
      url: https://ecommerce-admin-panel.fly.dev/api/tags
      headers:
        authorization: Bearer {{ request_1.response.body.token }}
        content-type: application/json
      assertions:
        - response.status == 200
    - name: POST Api Auth Login
      method: POST
      url: https://ecommerce-admin-panel.fly.dev/api/auth/login
      headers:
        content-type: application/json
      body:
        email: "{{ #env:LOGIN_EMAIL }}"
        password: "{{ #env:LOGIN_PASSWORD }}"
      assertions:
        - response.status == 200
    - name: POST Api Categories
      method: POST
      url: https://ecommerce-admin-panel.fly.dev/api/categories
      headers:
        authorization: Bearer {{ request_1.response.body.token }}
        content-type: application/json
      body:
        json:
            name: Apple products
        type: json
      assertions:
        - response.status == 201
    - name: POST Api Products
      method: POST
      url: https://ecommerce-admin-panel.fly.dev/api/products
      headers:
        authorization: Bearer {{ request_1.response.body.token }}
        content-type: application/json
      body:
        json:
            category_id: '{{ request_5.response.body.id }}'
            description: a
            name: macbook pro
            options:
                - key: b
                  value: "1"
                - key: d
                  value: "2"
            price: 123
            tags:
                - '{{ request_7.response.body.id }}'
        type: json
      assertions:
        - response.status == 201
    - name: POST Api Tags
      method: POST
      url: https://ecommerce-admin-panel.fly.dev/api/tags
      headers:
        authorization: Bearer {{ request_1.response.body.token }}
        content-type: application/json
      body:
        json:
            name: laptops
        type: json
      assertions:
        - response.status == 201
flows:
    - name: Imported HAR Flow
      steps:
        - request:
            name: request_1
            use_request: POST Api Auth Login
        - request:
            name: request_10
            use_request: GET Api Products
        - request:
            depends_on:
                - request_1
            name: request_12
            use_request: GET Api Products_1
        - request:
            depends_on:
                - request_1
            name: request_14
            use_request: GET Api Tags_1
        - request:
            depends_on:
                - request_1
            name: request_16
            use_request: GET Api Categories_1
        - request:
            depends_on:
                - request_1
            name: request_5
            use_request: POST Api Categories
        - request:
            depends_on:
                - request_1
            name: request_6
            use_request: GET Api Categories
        - request:
            depends_on:
                - request_1
            name: request_8
            use_request: GET Api Tags
        - request:
            depends_on:
                - request_5
            name: request_7
            use_request: POST Api Tags
        - request:
            name: request_9
            use_request: POST Api Products
        - request:
            name: request_11
            use_request: DELETE Api Products 6d316d59 4cb4 451e B5b1 673ecbdd5609
        - request:
            name: request_13
            use_request: DELETE Api Tags Ef2574d1 1781 4ca9 Bfcd C571e124be02
        - request:
            name: request_15
            use_request: DELETE Api Categories C2b85766 9fb6 4a3b A032 9628552cbdf2
environments:
    - name: default
      variables: {}
